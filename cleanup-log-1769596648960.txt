[2026-01-28T10:37:28.961Z] [INFO] 
============================================================
[2026-01-28T10:37:28.963Z] [INFO] QUIZ SUBMISSION CLEANUP SCRIPT
[2026-01-28T10:37:28.963Z] [INFO] ============================================================

[2026-01-28T10:37:28.963Z] [WARNING] ‚ö†Ô∏è  RUNNING IN DRY RUN MODE - NO CHANGES WILL BE MADE
[2026-01-28T10:37:28.964Z] [INFO]    Set DRY_RUN=false in environment to perform actual cleanup
[2026-01-28T10:37:28.964Z] [INFO] 
[2026-01-28T10:37:28.964Z] [INFO] Connecting to MongoDB...
[2026-01-28T10:37:31.156Z] [SUCCESS] ‚úÖ Connected to MongoDB
[2026-01-28T10:37:31.157Z] [INFO] 
[2026-01-28T10:37:31.157Z] [INFO] 
============================================================
[2026-01-28T10:37:31.157Z] [INFO] PHASE 1: ANALYSIS
[2026-01-28T10:37:31.157Z] [INFO] ============================================================

[2026-01-28T10:37:31.158Z] [INFO] üîç Finding orphaned submissions (no quiz taker)...
[2026-01-28T10:37:39.609Z] [INFO]    Total orphaned submissions: 0
[2026-01-28T10:37:39.610Z] [INFO] 
[2026-01-28T10:37:39.611Z] [INFO] üîç Finding duplicate in-progress submissions...
[2026-01-28T10:37:40.019Z] [INFO]    Found 4 duplicates for key: 6977d4ec8f945060cf0c12db_6977b7d75415be2cd43bad58
[2026-01-28T10:37:40.020Z] [INFO]    Keeping: 69785a256092999e67c1a477 (created: Tue Jan 27 2026 07:24:37 GMT+0100 (West Africa Standard Time))
[2026-01-28T10:37:40.020Z] [INFO]    Marking for deletion: 69785a256092999e67c1a473 (created: Tue Jan 27 2026 07:24:37 GMT+0100 (West Africa Standard Time))
[2026-01-28T10:37:40.020Z] [INFO]    Marking for deletion: 69785a25e371fbe7210db696 (created: Tue Jan 27 2026 07:24:37 GMT+0100 (West Africa Standard Time))
[2026-01-28T10:37:40.021Z] [INFO]    Marking for deletion: 69785a256092999e67c1a471 (created: Tue Jan 27 2026 07:24:37 GMT+0100 (West Africa Standard Time))
[2026-01-28T10:37:40.021Z] [INFO]    Found 2 duplicates for key: 6977d4e78f945060cf0c07ff_6977b7a05415be2cd43ba84c
[2026-01-28T10:37:40.021Z] [INFO]    Keeping: 697895467478d02849093dd8 (created: Tue Jan 27 2026 11:36:54 GMT+0100 (West Africa Standard Time))
[2026-01-28T10:37:40.021Z] [INFO]    Marking for deletion: 697895467478d02849093dd6 (created: Tue Jan 27 2026 11:36:54 GMT+0100 (West Africa Standard Time))
[2026-01-28T10:37:40.021Z] [INFO]    Found 2 duplicates for key: 6977d4ca8f945060cf0bcaf9_6977b7a05415be2cd43ba84c
[2026-01-28T10:37:40.022Z] [INFO]    Keeping: 6978b389c1994844399be837 (created: Tue Jan 27 2026 13:46:01 GMT+0100 (West Africa Standard Time))
[2026-01-28T10:37:40.022Z] [INFO]    Marking for deletion: 6978b389c1994844399be835 (created: Tue Jan 27 2026 13:46:01 GMT+0100 (West Africa Standard Time))
[2026-01-28T10:37:40.022Z] [INFO]    Found 2 duplicates for key: 6977d52d8f945060cf0c9ae9_6977b7a05415be2cd43ba84c
[2026-01-28T10:37:40.022Z] [INFO]    Keeping: 6978e56bc7f639db799a4b96 (created: Tue Jan 27 2026 17:18:51 GMT+0100 (West Africa Standard Time))
[2026-01-28T10:37:40.022Z] [INFO]    Marking for deletion: 6978e56bc7f639db799a4b94 (created: Tue Jan 27 2026 17:18:51 GMT+0100 (West Africa Standard Time))
[2026-01-28T10:37:40.022Z] [INFO]    Found 2 duplicates for key: 6977d4f58f945060cf0c24ef_6977b7a05415be2cd43ba84c
[2026-01-28T10:37:40.022Z] [INFO]    Keeping: 6978e9e3b102698f2ea55e30 (created: Tue Jan 27 2026 17:37:55 GMT+0100 (West Africa Standard Time))
[2026-01-28T10:37:40.023Z] [INFO]    Marking for deletion: 6978e9e3b102698f2ea55e2e (created: Tue Jan 27 2026 17:37:55 GMT+0100 (West Africa Standard Time))
[2026-01-28T10:37:40.023Z] [INFO]    Total duplicate submissions to remove: 7
[2026-01-28T10:37:40.023Z] [INFO] 
[2026-01-28T10:37:40.023Z] [INFO] üîç Finding submissions with inconsistent state...
[2026-01-28T10:37:40.591Z] [INFO]    Found: 6977eacbf3c3329e27887037 - wrong submission ID
[2026-01-28T10:37:40.791Z] [INFO]    Found: 6978224553edcc56fb5773d5 - wrong submission ID
[2026-01-28T10:37:40.982Z] [INFO]    Found: 69785a25e371fbe7210db696 - wrong submission ID
[2026-01-28T10:37:41.190Z] [INFO]    Found: 69785a256092999e67c1a471 - wrong submission ID
[2026-01-28T10:37:41.395Z] [INFO]    Found: 69785a256092999e67c1a473 - wrong submission ID
[2026-01-28T10:37:41.589Z] [INFO]    Found: 69785a256092999e67c1a477 - wrong submission ID
[2026-01-28T10:37:41.782Z] [INFO]    Found: 6978650ee371fbe7210dd70a - wrong submission ID
[2026-01-28T10:37:41.972Z] [INFO]    Found: 69787e191f80a8e52e89b31a - wrong submission ID
[2026-01-28T10:37:42.234Z] [INFO]    Found: 697891de1f80a8e52e89f453 - wrong submission ID
[2026-01-28T10:37:42.445Z] [INFO]    Found: 697895467478d02849093dd6 - wrong submission ID
[2026-01-28T10:37:42.644Z] [INFO]    Found: 697895467478d02849093dd8 - wrong submission ID
[2026-01-28T10:37:42.840Z] [INFO]    Found: 697895f4a4e3295471147ce6 - wrong submission ID
[2026-01-28T10:37:43.424Z] [INFO]    Found: 6978ba6ec98288975c1a0432 - wrong submission ID
[2026-01-28T10:37:43.621Z] [INFO]    Found: 6978cfaadad5ea9d3c8f0242 - wrong submission ID
[2026-01-28T10:37:43.827Z] [INFO]    Found: 6978e56bc7f639db799a4b94 - wrong submission ID
[2026-01-28T10:37:44.021Z] [INFO]    Found: 6978e56bc7f639db799a4b96 - wrong submission ID
[2026-01-28T10:37:44.210Z] [INFO]    Found: 6978e82887bd00062a7ee651 - wrong submission ID
[2026-01-28T10:37:44.400Z] [INFO]    Found: 6978e920b102698f2ea55533 - wrong submission ID
[2026-01-28T10:37:44.598Z] [INFO]    Found: 6978e9e3b102698f2ea55e2e - wrong submission ID
[2026-01-28T10:37:44.811Z] [INFO]    Found: 6978e9e3b102698f2ea55e30 - wrong submission ID
[2026-01-28T10:37:45.017Z] [INFO]    Found: 6978ea5387bd00062a7f05be - wrong submission ID
[2026-01-28T10:37:45.229Z] [INFO]    Found: 6978ecb287bd00062a7f1f34 - wrong submission ID
[2026-01-28T10:37:45.412Z] [INFO]    Found: 6978f248b102698f2ea5aecf - wrong submission ID
[2026-01-28T10:37:45.602Z] [INFO]    Found: 6978ff0d68235a312f315ac6 - wrong submission ID
[2026-01-28T10:37:45.790Z] [INFO]    Found: 697902e068235a312f3180e9 - wrong submission ID
[2026-01-28T10:37:46.395Z] [INFO]    Total inconsistent submissions: 25
[2026-01-28T10:37:46.395Z] [INFO] 
[2026-01-28T10:37:46.396Z] [INFO] üîç Finding submissions with duplicate question set entries...
[2026-01-28T10:37:46.803Z] [INFO]    Found: 6978b389c1994844399be835 - 4 entries, 3 unique
[2026-01-28T10:37:46.804Z] [INFO]    Found: 6979136b113df95f15c9293a - 3 entries, 2 unique
[2026-01-28T10:37:46.804Z] [INFO]    Total submissions with duplicate question sets: 2
[2026-01-28T10:37:46.804Z] [INFO] 
[2026-01-28T10:37:46.804Z] [INFO] üîç Finding stuck submissions (in-progress > 7 days)...
[2026-01-28T10:37:47.011Z] [INFO]    Total stuck submissions: 0
[2026-01-28T10:37:47.011Z] [INFO] 
[2026-01-28T10:37:47.012Z] [INFO] 
============================================================
[2026-01-28T10:37:47.012Z] [INFO] ISSUES FOUND
[2026-01-28T10:37:47.012Z] [INFO] ============================================================

[2026-01-28T10:37:47.013Z] [INFO] Orphaned submissions: 0
[2026-01-28T10:37:47.013Z] [INFO] Duplicate submissions: 7
[2026-01-28T10:37:47.013Z] [INFO] Inconsistent submissions: 25
[2026-01-28T10:37:47.013Z] [INFO] Submissions with duplicate question sets: 2
[2026-01-28T10:37:47.013Z] [INFO] Stuck submissions (>7 days): 0
[2026-01-28T10:37:47.014Z] [INFO] 
[2026-01-28T10:37:47.014Z] [INFO] 
============================================================
[2026-01-28T10:37:47.014Z] [INFO] PHASE 2: CLEANUP
[2026-01-28T10:37:47.014Z] [INFO] ============================================================

[2026-01-28T10:37:47.014Z] [INFO] Cleaning up duplicate submissions...
[2026-01-28T10:37:47.015Z] [INFO] Deleting submission: 69785a256092999e67c1a473 - Duplicate submission (older)
[2026-01-28T10:37:47.015Z] [INFO]    [DRY RUN] Would delete this submission
[2026-01-28T10:37:47.015Z] [INFO] Deleting submission: 69785a25e371fbe7210db696 - Duplicate submission (older)
[2026-01-28T10:37:47.015Z] [INFO]    [DRY RUN] Would delete this submission
[2026-01-28T10:37:47.016Z] [INFO] Deleting submission: 69785a256092999e67c1a471 - Duplicate submission (older)
[2026-01-28T10:37:47.016Z] [INFO]    [DRY RUN] Would delete this submission
[2026-01-28T10:37:47.016Z] [INFO] Deleting submission: 697895467478d02849093dd6 - Duplicate submission (older)
[2026-01-28T10:37:47.016Z] [INFO]    [DRY RUN] Would delete this submission
[2026-01-28T10:37:47.017Z] [INFO] Deleting submission: 6978b389c1994844399be835 - Duplicate submission (older)
[2026-01-28T10:37:47.017Z] [INFO]    [DRY RUN] Would delete this submission
[2026-01-28T10:37:47.017Z] [INFO] Deleting submission: 6978e56bc7f639db799a4b94 - Duplicate submission (older)
[2026-01-28T10:37:47.017Z] [INFO]    [DRY RUN] Would delete this submission
[2026-01-28T10:37:47.018Z] [INFO] Deleting submission: 6978e9e3b102698f2ea55e2e - Duplicate submission (older)
[2026-01-28T10:37:47.018Z] [INFO]    [DRY RUN] Would delete this submission
[2026-01-28T10:37:47.018Z] [INFO] 
[2026-01-28T10:37:47.018Z] [INFO] Cleaning up inconsistent submissions...
[2026-01-28T10:37:47.018Z] [INFO] Deleting submission: 6977eacbf3c3329e27887037 - Quiz completed with different submission ID
[2026-01-28T10:37:47.018Z] [INFO]    [DRY RUN] Would delete this submission
[2026-01-28T10:37:47.018Z] [INFO] Deleting submission: 6978224553edcc56fb5773d5 - Quiz completed with different submission ID
[2026-01-28T10:37:47.019Z] [INFO]    [DRY RUN] Would delete this submission
[2026-01-28T10:37:47.019Z] [INFO] Deleting submission: 69785a25e371fbe7210db696 - Quiz completed with different submission ID
[2026-01-28T10:37:47.019Z] [INFO]    [DRY RUN] Would delete this submission
[2026-01-28T10:37:47.019Z] [INFO] Deleting submission: 69785a256092999e67c1a471 - Quiz completed with different submission ID
[2026-01-28T10:37:47.019Z] [INFO]    [DRY RUN] Would delete this submission
[2026-01-28T10:37:47.020Z] [INFO] Deleting submission: 69785a256092999e67c1a473 - Quiz completed with different submission ID
[2026-01-28T10:37:47.020Z] [INFO]    [DRY RUN] Would delete this submission
[2026-01-28T10:37:47.020Z] [INFO] Deleting submission: 69785a256092999e67c1a477 - Quiz completed with different submission ID
[2026-01-28T10:37:47.020Z] [INFO]    [DRY RUN] Would delete this submission
[2026-01-28T10:37:47.020Z] [INFO] Deleting submission: 6978650ee371fbe7210dd70a - Quiz completed with different submission ID
[2026-01-28T10:37:47.020Z] [INFO]    [DRY RUN] Would delete this submission
[2026-01-28T10:37:47.020Z] [INFO] Deleting submission: 69787e191f80a8e52e89b31a - Quiz completed with different submission ID
[2026-01-28T10:37:47.021Z] [INFO]    [DRY RUN] Would delete this submission
[2026-01-28T10:37:47.021Z] [INFO] Deleting submission: 697891de1f80a8e52e89f453 - Quiz completed with different submission ID
[2026-01-28T10:37:47.021Z] [INFO]    [DRY RUN] Would delete this submission
[2026-01-28T10:37:47.022Z] [INFO] Deleting submission: 697895467478d02849093dd6 - Quiz completed with different submission ID
[2026-01-28T10:37:47.022Z] [INFO]    [DRY RUN] Would delete this submission
[2026-01-28T10:37:47.022Z] [INFO] Deleting submission: 697895467478d02849093dd8 - Quiz completed with different submission ID
[2026-01-28T10:37:47.022Z] [INFO]    [DRY RUN] Would delete this submission
[2026-01-28T10:37:47.022Z] [INFO] Deleting submission: 697895f4a4e3295471147ce6 - Quiz completed with different submission ID
[2026-01-28T10:37:47.022Z] [INFO]    [DRY RUN] Would delete this submission
[2026-01-28T10:37:47.022Z] [INFO] Deleting submission: 6978ba6ec98288975c1a0432 - Quiz completed with different submission ID
[2026-01-28T10:37:47.022Z] [INFO]    [DRY RUN] Would delete this submission
[2026-01-28T10:37:47.023Z] [INFO] Deleting submission: 6978cfaadad5ea9d3c8f0242 - Quiz completed with different submission ID
[2026-01-28T10:37:47.023Z] [INFO]    [DRY RUN] Would delete this submission
[2026-01-28T10:37:47.025Z] [INFO] Deleting submission: 6978e56bc7f639db799a4b94 - Quiz completed with different submission ID
[2026-01-28T10:37:47.026Z] [INFO]    [DRY RUN] Would delete this submission
[2026-01-28T10:37:47.026Z] [INFO] Deleting submission: 6978e56bc7f639db799a4b96 - Quiz completed with different submission ID
[2026-01-28T10:37:47.026Z] [INFO]    [DRY RUN] Would delete this submission
[2026-01-28T10:37:47.027Z] [INFO] Deleting submission: 6978e82887bd00062a7ee651 - Quiz completed with different submission ID
[2026-01-28T10:37:47.027Z] [INFO]    [DRY RUN] Would delete this submission
[2026-01-28T10:37:47.027Z] [INFO] Deleting submission: 6978e920b102698f2ea55533 - Quiz completed with different submission ID
[2026-01-28T10:37:47.027Z] [INFO]    [DRY RUN] Would delete this submission
[2026-01-28T10:37:47.027Z] [INFO] Deleting submission: 6978e9e3b102698f2ea55e2e - Quiz completed with different submission ID
[2026-01-28T10:37:47.027Z] [INFO]    [DRY RUN] Would delete this submission
[2026-01-28T10:37:47.027Z] [INFO] Deleting submission: 6978e9e3b102698f2ea55e30 - Quiz completed with different submission ID
[2026-01-28T10:37:47.028Z] [INFO]    [DRY RUN] Would delete this submission
[2026-01-28T10:37:47.028Z] [INFO] Deleting submission: 6978ea5387bd00062a7f05be - Quiz completed with different submission ID
[2026-01-28T10:37:47.028Z] [INFO]    [DRY RUN] Would delete this submission
[2026-01-28T10:37:47.028Z] [INFO] Deleting submission: 6978ecb287bd00062a7f1f34 - Quiz completed with different submission ID
[2026-01-28T10:37:47.028Z] [INFO]    [DRY RUN] Would delete this submission
[2026-01-28T10:37:47.028Z] [INFO] Deleting submission: 6978f248b102698f2ea5aecf - Quiz completed with different submission ID
[2026-01-28T10:37:47.028Z] [INFO]    [DRY RUN] Would delete this submission
[2026-01-28T10:37:47.028Z] [INFO] Deleting submission: 6978ff0d68235a312f315ac6 - Quiz completed with different submission ID
[2026-01-28T10:37:47.029Z] [INFO]    [DRY RUN] Would delete this submission
[2026-01-28T10:37:47.029Z] [INFO] Deleting submission: 697902e068235a312f3180e9 - Quiz completed with different submission ID
[2026-01-28T10:37:47.029Z] [INFO]    [DRY RUN] Would delete this submission
[2026-01-28T10:37:47.029Z] [INFO] 
[2026-01-28T10:37:47.029Z] [INFO] Fixing duplicate question sets...
[2026-01-28T10:37:47.029Z] [INFO] Fixing duplicate question sets in: 6978b389c1994844399be835
[2026-01-28T10:37:47.259Z] [INFO]    [DRY RUN] Would reduce from 4 to 3 question sets
[2026-01-28T10:37:47.260Z] [INFO] Fixing duplicate question sets in: 6979136b113df95f15c9293a
[2026-01-28T10:37:47.472Z] [INFO]    [DRY RUN] Would reduce from 3 to 2 question sets
[2026-01-28T10:37:47.472Z] [INFO] 
[2026-01-28T10:37:47.473Z] [INFO] 
============================================================
[2026-01-28T10:37:47.473Z] [INFO] CLEANUP SUMMARY
[2026-01-28T10:37:47.473Z] [INFO] ============================================================

[2026-01-28T10:37:47.473Z] [INFO] Total issues found: 34
[2026-01-28T10:37:47.473Z] [INFO] Submissions deleted: 32
[2026-01-28T10:37:47.474Z] [INFO] Submissions fixed: 2
[2026-01-28T10:37:47.474Z] [INFO] Errors: 0
[2026-01-28T10:37:47.474Z] [INFO] 
[2026-01-28T10:37:47.474Z] [WARNING] ‚ö†Ô∏è  DRY RUN COMPLETE - No actual changes were made
[2026-01-28T10:37:47.474Z] [INFO]    Review the log and run with DRY_RUN=false to apply changes
[2026-01-28T10:37:47.484Z] [INFO] 
Disconnected from MongoDB
